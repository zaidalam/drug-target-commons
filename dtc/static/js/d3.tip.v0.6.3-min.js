d3.tip=function(){var s=j,e=b,g=q,o=n(),k=null,p=null,x=null;function i(y){k=u(y);p=k.createSVGPoint();document.body.appendChild(o)}i.show=function(){var z=Array.prototype.slice.call(arguments);if(z[z.length-1] instanceof SVGElement){x=z.pop()}var C=g.apply(this,z),B=e.apply(this,z),y=s.apply(this,z),E=d3.select(o),A=0,D;E.html(C).style({opacity:1,"pointer-events":"all"});while(A--){E.classed(h[A],false)}D=v.get(y).apply(this);E.classed(y,true).style({top:(D.top+B[0])+"px",left:(D.left+B[1])+"px"});return i};i.hide=function(){nodel=d3.select(o);nodel.style({opacity:0,"pointer-events":"none"});return i};i.attr=function(A,y){if(arguments.length<2&&typeof A==="string"){return d3.select(o).attr(A)}else{var z=Array.prototype.slice.call(arguments);d3.selection.prototype.attr.apply(d3.select(o),z)}return i};i.style=function(A,y){if(arguments.length<2&&typeof A==="string"){return d3.select(o).style(A)}else{var z=Array.prototype.slice.call(arguments);d3.selection.prototype.style.apply(d3.select(o),z)}return i};i.direction=function(y){if(!arguments.length){return s}s=y==null?y:d3.functor(y);return i};i.offset=function(y){if(!arguments.length){return e}e=y==null?y:d3.functor(y);return i};i.html=function(y){if(!arguments.length){return g}g=y==null?y:d3.functor(y);return i};function j(){return"n"}function b(){return[0,0]}function q(){return" "}var v=d3.map({n:a,s:t,e:c,w:r,nw:d,ne:m,sw:w,se:f}),h=v.keys();function a(){var y=l();return{top:y.n.y-o.offsetHeight,left:y.n.x-o.offsetWidth/2}}function t(){var y=l();return{top:y.s.y,left:y.s.x-o.offsetWidth/2}}function c(){var y=l();return{top:y.e.y-o.offsetHeight/2,left:y.e.x}}function r(){var y=l();return{top:y.w.y-o.offsetHeight/2,left:y.w.x-o.offsetWidth}}function d(){var y=l();return{top:y.nw.y-o.offsetHeight,left:y.nw.x-o.offsetWidth}}function m(){var y=l();return{top:y.ne.y-o.offsetHeight,left:y.ne.x}}function w(){var y=l();return{top:y.sw.y,left:y.sw.x-o.offsetWidth}}function f(){var y=l();return{top:y.se.y,left:y.e.x}}function n(){var y=d3.select(document.createElement("div"));y.style({position:"absolute",opacity:0,pointerEvents:"none",boxSizing:"border-box"});return y.node()}function u(y){y=y.node();if(y.tagName.toLowerCase()=="svg"){return y}return y.ownerSVGElement}function l(){var D=x||d3.event.target,H={},E=D.getScreenCTM(),G=D.getBBox(),z=G.width,I=G.height,F=G.x,C=G.y,A=document.documentElement.scrollTop||document.body.scrollTop,B=document.documentElement.scrollLeft||document.body.scrollLeft;p.x=F+B;p.y=C+A;H.nw=p.matrixTransform(E);p.x+=z;H.ne=p.matrixTransform(E);p.y+=I;H.se=p.matrixTransform(E);p.x-=z;H.sw=p.matrixTransform(E);p.y-=I/2;H.w=p.matrixTransform(E);p.x+=z;H.e=p.matrixTransform(E);p.x-=z/2;p.y-=I/2;H.n=p.matrixTransform(E);p.y+=I;H.s=p.matrixTransform(E);return H}return i};