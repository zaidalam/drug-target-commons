/* @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(a){a.URL=a.URL||a.webkitURL;if(a.Blob&&a.URL){try{new Blob;return}catch(c){}}var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||(function(o){var f=function(y){return Object.prototype.toString.call(y).match(/^\[object\s(.*)\]$/)[1]},x=function l(){this.data=[]},v=function h(A,y,z){this.data=A;this.size=A.length;this.type=y;this.encoding=z},p=x.prototype,u=v.prototype,r=o.FileReaderSync,d=function(y){this.code=this[this.name=y]},q=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),t=q.length,k=o.URL||o.webkitURL||o,s=k.createObjectURL,e=k.revokeObjectURL,j=k,n=o.btoa,i=o.atob,g=o.ArrayBuffer,m=o.Uint8Array,w=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;v.fake=u.fake=true;while(t--){d.prototype[q[t]]=t+1}if(!k.createObjectURL){j=o.URL=function(z){var y=document.createElementNS("http://www.w3.org/1999/xhtml","a"),A;y.href=z;if(!("origin" in y)){if(y.protocol.toLowerCase()==="data:"){y.origin=null}else{A=z.match(w);y.origin=A&&A[1]}}return y}}j.createObjectURL=function(z){var A=z.type,y;if(A===null){A="application/octet-stream"}if(z instanceof v){y="data:"+A;if(z.encoding==="base64"){return y+";base64,"+z.data}else{if(z.encoding==="URI"){return y+","+decodeURIComponent(z.data)}}if(n){return y+";base64,"+n(z.data)}else{return y+","+encodeURIComponent(z.data)}}else{if(s){return s.call(k,z)}}};j.revokeObjectURL=function(y){if(y.substring(0,5)!=="data:"&&e){e.call(k,y)}};p.append=function(C){var E=this.data;if(m&&(C instanceof g||C instanceof m)){var D="",z=new m(C),A=0,B=z.length;for(;A<B;A++){D+=String.fromCharCode(z[A])}E.push(D)}else{if(f(C)==="Blob"||f(C)==="File"){if(r){var y=new r;E.push(y.readAsBinaryString(C))}else{throw new d("NOT_READABLE_ERR")}}else{if(C instanceof v){if(C.encoding==="base64"&&i){E.push(i(C.data))}else{if(C.encoding==="URI"){E.push(decodeURIComponent(C.data))}else{if(C.encoding==="raw"){E.push(C.data)}}}}else{if(typeof C!=="string"){C+=""}E.push(unescape(encodeURIComponent(C)))}}}};p.getBlob=function(y){if(!arguments.length){y=null}return new v(this.data.join(""),y,"raw")};p.toString=function(){return"[object BlobBuilder]"};u.slice=function(B,y,A){var z=arguments.length;if(z<3){A=null}return new v(this.data.slice(B,z>1?y:this.data.length),A,this.encoding)};u.toString=function(){return"[object Blob]"};u.close=function(){this.size=0;delete this.data};return x}(a));a.Blob=function(g,f){var j=f?(f.type||""):"";var e=new b();if(g){for(var h=0,d=g.length;h<d;h++){e.append(g[h])}}return e.getBlob(j)}}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));